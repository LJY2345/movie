"use strict"; /*! Copyright (c) 2006 Klaus Hartl (stilbuero.de) */ jQuery.cookie=function(t,e,o){if(void 0!==e){o=o||{},null===e&&(e="",o.expires=-1);var n,a="";o.expires&&("number"==typeof o.expires||o.expires.toUTCString)&&("number"==typeof o.expires?(n=new Date).setTime(n.getTime()+864e5*o.expires):n=o.expires,a="; expires="+n.toUTCString());var r=o.path?"; path="+o.path:"",s=o.domain?"; domain="+o.domain:"",c=o.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),a,r,s,c].join("")}else{var l=null;if(document.cookie&&""!==document.cookie)for(var h=document.cookie.split(";"),d=0;d<h.length;d++){var u=jQuery.trim(h[d]);if(u.substring(0,t.length+1)===t+"="){l=decodeURIComponent(u.substring(t.length+1));break}}return l}},function(t,e,o,n){var a=t(e);t.fn.lazyload=function(r){function s(){var e=0;l.each(function(){var o=t(this);if(!h.skip_invisible||o.is(":visible")){if(t.abovethetop(this,h)||t.leftofbegin(this,h));else if(t.belowthefold(this,h)||t.rightoffold(this,h)){if(++e>h.failure_limit)return!1}else o.trigger("appear"),e=0}})}var c,l=this,h={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(n!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),n!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),t.extend(h,r)),c=h.container===n||h.container===e?a:t(h.container),0===h.event.indexOf("scroll")&&c.bind(h.event,function(){return s()}),this.each(function(){var e=this,o=t(e);e.loaded=!1,(o.attr("src")===n||!1===o.attr("src"))&&o.is("img")&&o.attr("src",h.placeholder),o.one("appear",function(){if(!this.loaded){if(h.appear){var n=l.length;h.appear.call(e,n,h)}t("<img />").bind("load",function(){var n=o.attr("data-"+h.data_attribute);o.hide(),o.is("img")?o.attr("src",n):o.css("background-image","url('"+n+"')"),o[h.effect](h.effect_speed),e.loaded=!0;var a=t.grep(l,function(t){return!t.loaded});if(l=t(a),h.load){var r=l.length;h.load.call(e,r,h)}}).attr("src",o.attr("data-"+h.data_attribute))}}),0!==h.event.indexOf("scroll")&&o.bind(h.event,function(){e.loaded||o.trigger("appear")})}),a.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&a.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(o).ready(function(){s()}),this},t.belowthefold=function(o,r){var s;return(s=r.container===n||r.container===e?(e.innerHeight?e.innerHeight:a.height())+a.scrollTop():t(r.container).offset().top+t(r.container).height())<=t(o).offset().top-r.threshold},t.rightoffold=function(o,r){var s;return(s=r.container===n||r.container===e?a.width()+a.scrollLeft():t(r.container).offset().left+t(r.container).width())<=t(o).offset().left-r.threshold},t.abovethetop=function(o,r){var s;return(s=r.container===n||r.container===e?a.scrollTop():t(r.container).offset().top)>=t(o).offset().top+r.threshold+t(o).height()},t.leftofbegin=function(o,r){var s;return(s=r.container===n||r.container===e?a.scrollLeft():t(r.container).offset().left)>=t(o).offset().left+r.threshold+t(o).width()},t.inviewport=function(e,o){return!(t.rightoffold(e,o)||t.leftofbegin(e,o)||t.belowthefold(e,o)||t.abovethetop(e,o))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),/*! qrcode */ function(t){t.fn.qrcode=function(e){var o;function n(t){this.mode=o,this.data=t}function a(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw Error(t.length+"/"+e);for(var o=0;o<t.length&&0==t[o];)o++;this.num=Array(t.length-o+e);for(var n=0;n<t.length-o;n++)this.num[n]=t[n+o]}function s(t,e){this.totalCount=t,this.dataCount=e}function c(){this.buffer=[],this.length=0}n.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},a.prototype={addData:function(t){this.dataList.push(new n(t)),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var t=1,t=1;40>t;t++){for(var e=s.getRSBlocks(t,this.errorCorrectLevel),o=new c,n=0,a=0;a<e.length;a++)n+=e[a].dataCount;for(a=0;a<this.dataList.length;a++)e=this.dataList[a],o.put(e.mode,4),o.put(e.getLength(),l.getLengthInBits(e.mode,t)),e.write(o);if(o.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[o][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var o=-1;7>=o;o++)if(!(-1>=t+o||this.moduleCount<=t+o))for(var n=-1;7>=n;n++)-1>=e+n||this.moduleCount<=e+n||(this.modules[t+o][e+n]=0<=o&&6>=o&&(0==n||6==n)||0<=n&&6>=n&&(0==o||6==o)||2<=o&&4>=o&&2<=n&&4>=n)},getBestMaskPattern:function(){for(var t=0,e=0,o=0;8>o;o++){this.makeImpl(!0,o);var n=l.getLostPoint(this);(0==o||t>n)&&(t=n,e=o)}return e},createMovieClip:function(t,e,o){for(t=t.createEmptyMovieClip(e,o),this.make(),e=0;e<this.modules.length;e++)for(var o=1*e,n=0;n<this.modules[e].length;n++){var a=1*n;this.modules[e][n]&&(t.beginFill(0,100),t.moveTo(a,o),t.lineTo(a+1,o),t.lineTo(a+1,o+1),t.lineTo(a,o+1),t.endFill())}return t},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var t=l.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var o=0;o<t.length;o++){var n=t[e],a=t[o];if(null==this.modules[n][a])for(var r=-2;2>=r;r++)for(var s=-2;2>=s;s++)this.modules[n+r][a+s]=-2==r||2==r||-2==s||2==s||0==r&&0==s}},setupTypeNumber:function(t){for(var e=l.getBCHTypeNumber(this.typeNumber),o=0;18>o;o++){var n=!t&&1==(e>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=n}for(o=0;18>o;o++)n=!t&&1==(e>>o&1),this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=n},setupTypeInfo:function(t,e){for(var o=l.getBCHTypeInfo(this.errorCorrectLevel<<3|e),n=0;15>n;n++){var a=!t&&1==(o>>n&1);6>n?this.modules[n][8]=a:8>n?this.modules[n+1][8]=a:this.modules[this.moduleCount-15+n][8]=a}for(n=0;15>n;n++)a=!t&&1==(o>>n&1),8>n?this.modules[8][this.moduleCount-n-1]=a:9>n?this.modules[8][15-n-1+1]=a:this.modules[8][15-n-1]=a;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var o=-1,n=this.moduleCount-1,a=7,r=0,s=this.moduleCount-1;0<s;s-=2)for(6==s&&s--;;){for(var c=0;2>c;c++)if(null==this.modules[n][s-c]){var h=!1;r<t.length&&(h=1==(t[r]>>>a&1)),l.getMask(e,n,s-c)&&(h=!h),this.modules[n][s-c]=h,-1==--a&&(r++,a=7)}if(0>(n+=o)||this.moduleCount<=n){n-=o,o=-o;break}}}},a.PAD0=236,a.PAD1=17,a.createData=function(t,e,o){for(var e=s.getRSBlocks(t,e),n=new c,r=0;r<o.length;r++){var h=o[r];n.put(h.mode,4),n.put(h.getLength(),l.getLengthInBits(h.mode,t)),h.write(n)}for(r=t=0;r<e.length;r++)t+=e[r].dataCount;if(n.getLengthInBits()>8*t)throw Error("code length overflow. ("+n.getLengthInBits()+">"+8*t+")");for(n.getLengthInBits()+4<=8*t&&n.put(0,4);0!=n.getLengthInBits()%8;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*t)&&(n.put(a.PAD0,8),!(n.getLengthInBits()>=8*t));)n.put(a.PAD1,8);return a.createBytes(n,e)},a.createBytes=function(t,e){for(var o=0,n=0,a=0,s=Array(e.length),c=Array(e.length),h=0;h<e.length;h++){var d=e[h].dataCount,u=e[h].totalCount-d,n=Math.max(n,d),a=Math.max(a,u);s[h]=Array(d);for(var f=0;f<s[h].length;f++)s[h][f]=255&t.buffer[f+o];for(o+=d,f=l.getErrorCorrectPolynomial(u),d=new r(s[h],f.getLength()-1).mod(f),c[h]=Array(f.getLength()-1),f=0;f<c[h].length;f++)u=f+d.getLength()-c[h].length,c[h][f]=0<=u?d.get(u):0}for(f=h=0;f<e.length;f++)h+=e[f].totalCount;for(o=Array(h),f=d=0;f<n;f++)for(h=0;h<e.length;h++)f<s[h].length&&(o[d++]=s[h][f]);for(f=0;f<a;f++)for(h=0;h<e.length;h++)f<c[h].length&&(o[d++]=c[h][f]);return o},o=4;for(var l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;0<=l.getBCHDigit(e)-l.getBCHDigit(l.G15);)e^=l.G15<<l.getBCHDigit(e)-l.getBCHDigit(l.G15);return(t<<10|e)^l.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;0<=l.getBCHDigit(e)-l.getBCHDigit(l.G18);)e^=l.G18<<l.getBCHDigit(e)-l.getBCHDigit(l.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return l.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,o){switch(t){case 0:return 0==(e+o)%2;case 1:return 0==e%2;case 2:return 0==o%3;case 3:return 0==(e+o)%3;case 4:return 0==(Math.floor(e/2)+Math.floor(o/3))%2;case 5:return 0==e*o%2+e*o%3;case 6:return 0==(e*o%2+e*o%3)%2;case 7:return 0==(e*o%3+(e+o)%2)%2;default:throw Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),o=0;o<t;o++)e=e.multiply(new r([1,h.gexp(o)],0));return e},getLengthInBits:function(t,e){if(1<=e&&10>e)switch(t){case 1:return 10;case 2:return 9;case o:case 8:return 8;default:throw Error("mode:"+t)}else if(27>e)switch(t){case 1:return 12;case 2:return 11;case o:return 16;case 8:return 10;default:throw Error("mode:"+t)}else if(41>e)switch(t){case 1:return 14;case 2:return 13;case o:return 16;case 8:return 12;default:throw Error("mode:"+t)}else throw Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),o=0,n=0;n<e;n++)for(var a=0;a<e;a++){for(var r=0,s=t.isDark(n,a),c=-1;1>=c;c++)if(!(0>n+c||e<=n+c))for(var l=-1;1>=l;l++)0>a+l||e<=a+l||0==c&&0==l||s==t.isDark(n+c,a+l)&&r++;5<r&&(o+=3+r-5)}for(n=0;n<e-1;n++)for(a=0;a<e-1;a++)r=0,t.isDark(n,a)&&r++,t.isDark(n+1,a)&&r++,t.isDark(n,a+1)&&r++,t.isDark(n+1,a+1)&&r++,(0==r||4==r)&&(o+=3);for(n=0;n<e;n++)for(a=0;a<e-6;a++)t.isDark(n,a)&&!t.isDark(n,a+1)&&t.isDark(n,a+2)&&t.isDark(n,a+3)&&t.isDark(n,a+4)&&!t.isDark(n,a+5)&&t.isDark(n,a+6)&&(o+=40);for(a=0;a<e;a++)for(n=0;n<e-6;n++)t.isDark(n,a)&&!t.isDark(n+1,a)&&t.isDark(n+2,a)&&t.isDark(n+3,a)&&t.isDark(n+4,a)&&!t.isDark(n+5,a)&&t.isDark(n+6,a)&&(o+=40);for(a=r=0;a<e;a++)for(n=0;n<e;n++)t.isDark(n,a)&&r++;return o+10*(t=Math.abs(100*r/e/e-50)/5)}},h={glog:function(t){if(1>t)throw Error("glog("+t+")");return h.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;256<=t;)t-=255;return h.EXP_TABLE[t]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},d=0;8>d;d++)h.EXP_TABLE[d]=1<<d;for(d=8;256>d;d++)h.EXP_TABLE[d]=h.EXP_TABLE[d-4]^h.EXP_TABLE[d-5]^h.EXP_TABLE[d-6]^h.EXP_TABLE[d-8];for(d=0;255>d;d++)h.LOG_TABLE[h.EXP_TABLE[d]]=d;return r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=Array(this.getLength()+t.getLength()-1),o=0;o<this.getLength();o++)for(var n=0;n<t.getLength();n++)e[o+n]^=h.gexp(h.glog(this.get(o))+h.glog(t.get(n)));return new r(e,0)},mod:function(t){if(0>this.getLength()-t.getLength())return this;for(var e=h.glog(this.get(0))-h.glog(t.get(0)),o=Array(this.getLength()),n=0;n<this.getLength();n++)o[n]=this.get(n);for(n=0;n<t.getLength();n++)o[n]^=h.gexp(h.glog(t.get(n))+e);return new r(o,0).mod(t)}},s.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],s.getRSBlocks=function(t,e){var o=s.getRsBlockTable(t,e);if(void 0==o)throw Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=o.length/3,a=[],r=0;r<n;r++)for(var c=o[3*r+0],l=o[3*r+1],h=o[3*r+2],d=0;d<c;d++)a.push(new s(l,h));return a},s.getRsBlockTable=function(t,e){switch(e){case 1:return s.RS_BLOCK_TABLE[4*(t-1)+0];case 0:return s.RS_BLOCK_TABLE[4*(t-1)+1];case 3:return s.RS_BLOCK_TABLE[4*(t-1)+2];case 2:return s.RS_BLOCK_TABLE[4*(t-1)+3]}},c.prototype={get:function(t){return 1==(this.buffer[Math.floor(t/8)]>>>7-t%8&1)},put:function(t,e){for(var o=0;o<e;o++)this.putBit(1==(t>>>e-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},"string"==typeof e&&(e={text:e}),e=t.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},e),this.each(function(){var o;if("canvas"==e.render){(o=new a(e.typeNumber,e.correctLevel)).addData(e.text),o.make();var n=document.createElement("canvas");n.width=e.width,n.height=e.height;for(var r=n.getContext("2d"),s=e.width/o.getModuleCount(),c=e.height/o.getModuleCount(),l=0;l<o.getModuleCount();l++)for(var h=0;h<o.getModuleCount();h++){r.fillStyle=o.isDark(l,h)?e.foreground:e.background;var d=Math.ceil((h+1)*s)-Math.floor(h*s),u=Math.ceil((l+1)*s)-Math.floor(l*s);r.fillRect(Math.round(h*s),Math.round(l*c),d,u)}}else for((o=new a(e.typeNumber,e.correctLevel)).addData(e.text),o.make(),n=t("<table></table>").css("width",e.width+"px").css("height",e.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",e.background),r=e.width/o.getModuleCount(),s=e.height/o.getModuleCount(),c=0;c<o.getModuleCount();c++)for(h=0,l=t("<tr></tr>").css("height",s+"px").appendTo(n);h<o.getModuleCount();h++)t("<td></td>").css("width",r+"px").css("background-color",o.isDark(c,h)?e.foreground:e.background).appendTo(l);jQuery(o=n).appendTo(this)})}}(jQuery),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;(e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=t()}}(function(){var t;return(function t(e,o,n){function a(s,c){if(!o[s]){if(!e[s]){var l="function"==typeof require&&require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);var h=Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var d=o[s]={exports:{}};e[s][0].call(d.exports,function(t){return a(e[s][1][t]||t)},d,d.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a})({1:[function(t,e,o){function n(t,e){for(;t&&t.nodeType!==a;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var a=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=n},{}],2:[function(t,e,o){function n(t,e,o,n,r){var s=a.apply(this,arguments);return t.addEventListener(o,s,r),{destroy:function(){t.removeEventListener(o,s,r)}}}function a(t,e,o,n){return function(o){o.delegateTarget=r(o.target,e),o.delegateTarget&&n.call(t,o)}}var r=t("./closest");e.exports=n},{"./closest":1}],3:[function(t,e,o){o.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},o.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||o.node(t[0]))},o.string=function(t){return"string"==typeof t||t instanceof String},o.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,o){function n(t,e,o){if(!t&&!e&&!o)throw Error("Missing required arguments");if(!c.string(e))throw TypeError("Second argument must be a String");if(!c.fn(o))throw TypeError("Third argument must be a Function");if(c.node(t))return a(t,e,o);if(c.nodeList(t))return r(t,e,o);if(c.string(t))return s(t,e,o);throw TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function a(t,e,o){return t.addEventListener(e,o),{destroy:function(){t.removeEventListener(e,o)}}}function r(t,e,o){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,o)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,o)})}}}function s(t,e,o){return l(document.body,t,e,o)}var c=t("./is"),l=t("delegate");e.exports=n},{"./is":3,delegate:2}],5:[function(t,e,o){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var o=t.hasAttribute("readonly");o||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),o||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),a=document.createRange();a.selectNodeContents(t),n.removeAllRanges(),n.addRange(a),e=n.toString()}return e}e.exports=n},{}],6:[function(t,e,o){function n(){}n.prototype={on:function(t,e,o){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:o}),this},once:function(t,e,o){function n(){a.off(t,n),e.apply(o,arguments)}var a=this;return n._=e,this.on(t,n,o)},emit:function(t){for(var e=[].slice.call(arguments,1),o=((this.e||(this.e={}))[t]||[]).slice(),n=0,a=o.length;n<a;n++)o[n].fn.apply(o[n].ctx,e);return this},off:function(t,e){var o=this.e||(this.e={}),n=o[t],a=[];if(n&&e)for(var r=0,s=n.length;r<s;r++)n[r].fn!==e&&n[r].fn._!==e&&a.push(n[r]);return a.length?o[t]=a:delete o[t],this}},e.exports=n},{}],7:[function(e,o,n){!function(a,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if(void 0!==n)r(o,e("select"));else{var s={exports:{}};r(s,a.select),a.clipboardAction=s.exports}}(this,function(t,e){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}var a=o(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return s(t,[{key:"resolveOptions",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function t(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function t(){var e=this,o="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[o?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function t(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function t(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function t(){var e=void 0;try{e=document.execCommand(this.action)}catch(o){e=!1}this.handleResult(e)}},{key:"handleResult",value:function t(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function t(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function t(){this.removeFake()}},{key:"action",set:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw Error('Invalid "action" value, use either "copy" or "cut"')},get:function t(){return this._action}},{key:"target",set:function t(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function t(){return this._target}}]),t}();t.exports=c})},{select:5}],8:[function(e,o,n){!function(a,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if(void 0!==n)r(o,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};r(s,a.clipboardAction,a.tinyEmitter,a.goodListener),a.clipboard=s.exports}}(this,function(t,e,o,n){function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&("object"==typeof e||"function"==typeof e)?e:t}function c(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var o="data-clipboard-"+t;if(e.hasAttribute(o))return e.getAttribute(o)}var h=a(e),d=a(o),u=a(n),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),m=function(t){function e(t,o){r(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.resolveOptions(o),n.listenClick(t),n}return c(e,t),p(e,[{key:"resolveOptions",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===f(e.container)?e.container:document.body}},{key:"listenClick",value:function t(e){var o=this;this.listener=(0,u.default)(e,"click",function(t){return o.onClick(t)})}},{key:"onClick",value:function t(e){var o=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new h.default({action:this.action(o),target:this.target(o),text:this.text(o),container:this.container,trigger:o,emitter:this})}},{key:"defaultAction",value:function t(e){return l("action",e)}},{key:"defaultTarget",value:function t(e){var o=l("target",e);if(o)return document.querySelector(o)}},{key:"defaultText",value:function t(e){return l("text",e)}},{key:"destroy",value:function t(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],o="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return o.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(d.default);t.exports=m})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});var $cookie_color=$.cookie("color");null!=$cookie_color&&$("link[name='color']").attr("href","/template/conch/asset/css/"+$cookie_color+".css?v="+conchtpl.ver),$.ajaxSetup({cache:!0});var Conch={Browser:{url:document.URL,domain:document.domain,title:document.title,urlpath:document.location.pathname,language:(navigator.browserLanguage||navigator.language).toLowerCase(),Swidth:$(window).width(),canvas:!!document.createElement("canvas").getContext,useragent:function(){var t=navigator.userAgent;return{mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:-1<t.indexOf("Android")||-1<t.indexOf("Linux"),iPhone:-1<t.indexOf("iPhone")||-1<t.indexOf("Mac"),iPad:-1<t.indexOf("iPad"),trident:-1<t.indexOf("Trident"),presto:-1<t.indexOf("Presto"),webKit:-1<t.indexOf("AppleWebKit"),gecko:-1<t.indexOf("Gecko")&&-1===t.indexOf("KHTML"),weixin:-1<t.indexOf("MicroMessenger")}}()},Cookie:{Set:function(t,e,o){var n;n=o||"",$.cookie(t,e,{expires:n,path:"/"})},Get:function(t){return $.cookie(t)},Del:function(t){$.cookie(t,null,{expires:-1,path:"/"})}},Host:function(){},Resize:function(){window.addEventListener("resize",function(){Conch.Search.Form(),Conch.Other.Navs(),Conch.Other.Set()})},Images:{Init:function(){Conch.Images.Lazyload(),Conch.Images.Qrcode()},Lazyload:function(){$(".hl-lazy").lazyload({effect:"fadeIn",threshold:200,failurelimit:20})},Qrcode:function(){$(".hl-cans").each(function(){if($(this).length){function t(t){var e=new Image;return e.src=t.toDataURL("image/png"),e}$(this).qrcode({width:120,height:120,text:encodeURI(Conch.Browser.url)});var e=$("canvas")[0],o=t(e);$(this).next(".hl-qrcode").append(o)}})}},Swiper:{Init:function(){$.getScript(maccms.path+"/template/conch/asset/js/set/swiper.min.js",function(){Conch.Swiper.Scrolls(),Conch.Swiper.Navs(),Conch.Swiper.Banners(),Conch.Swiper.Lists(),Conch.Swiper.Tabs()})},Scrolls:function(){new Swiper(".conch-scrollbar",{direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!0},mousewheel:!0}),Conch.Browser.Swidth>992&&new Swiper(".hl-play-scrollbar",{direction:"vertical",slidesPerView:"auto",freeMode:!0,observer:!0,observeSlideChildren:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0,hide:!0},mousewheel:!0})},Navs:function(){Conch.Browser.Swidth<768&&new Swiper(".hl-navswiper",{freeMode:!0,slidesPerView:"auto",slideClass:"hl-slide-swiper",on:{init:function(){this.$el.find(".active").length>0&&($activewidth=this.$el.find(".active").parent().outerWidth(!0),$activeleft=this.$el.find(".active").parent()[0].offsetLeft,$wrapwidth=this.$wrapperEl.parent().outerWidth(!0),$navwidth=0,this.slides.each(function(){$navwidth+=parseInt($(this).outerWidth(!0))}),this.$wrapperEl.transition(300),$activeleft<($wrapwidth-parseInt($activewidth))/2?this.$wrapperEl.transform("translate3d(0px,0px,0px)"):$activeleft>$navwidth-(parseInt($activewidth)+$wrapwidth)/2?this.$wrapperEl.transform("translate3d("+($wrapwidth-$navwidth)+"px,0px,0px)"):this.$wrapperEl.transform("translate3d("+(($wrapwidth-parseInt($activewidth))/2-$activeleft)+"px,0px,0px)"))}}})},Banners:function(){new Swiper(".conch-br-swiper",{speed:1e3,slidesPerView:1,spaceBetween:10,autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,loopAdditionalSlides:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},on:{init:function(){this.$el.parents(".conch-br-box").removeClass("hl-hidden")},slideChangeTransitionEnd:function(){$(".hl-lazy").lazyload({threshold:130}),this.slides.find(".hl-br-thumb").css("opacity","1")}},breakpoints:{768:{spaceBetween:20}}})},Lists:function(){new Swiper(".hl-list-swiper",{slidesPerView:6,slidesPerGroup:6,slideClass:"hl-slide-swiper",observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"fraction"},on:{slideChangeTransitionEnd:function(){$(".hl-lazy").lazyload({threshold:130})},touchEnd:function(){$(".hl-lazy").lazyload({threshold:130})}},breakpoints:{1199:{slidesPerView:5,slidesPerGroup:5},991:{slidesPerView:4,slidesPerGroup:4},767:{freeMode:!0,slidesPerView:"auto",slidesPerGroup:1}}}),new Swiper(".hl-list-swiper2",{slidesPerView:5,slidesPerGroup:5,slideClass:"hl-slide-swiper",observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"fraction"},on:{slideChangeTransitionEnd:function(){$(".hl-lazy").lazyload({threshold:130})},touchEnd:function(){$(".hl-lazy").lazyload({threshold:130})}},breakpoints:{1199:{slidesPerView:4,slidesPerGroup:4},767:{freeMode:!0,slidesPerView:"auto",slidesPerGroup:1}}})},Tabs:function(){new Swiper(".hl-tabs-swiper",{freeMode:!0,slidesPerView:"auto",slideClass:"hl-slide-swiper",on:{touchEnd:function(){$(".hl-lazy").lazyload({threshold:130})}}})}},Scroll:{Init:function(){Conch.Scroll.Fixed(),Conch.Scroll.Top()},Fixed:function(){$(window).scroll(function(){var t=$(this).scrollTop();if(t>=100?($("body").addClass("conch-adjust-fix"),$(".conch-headwrap").addClass("fixed").addClass("hl-tran5")):($(".conch-headwrap").removeClass("fixed").removeClass("hl-tran5"),$("body").removeClass("conch-adjust-fix")),t>=200?$(".conch-headwrap").addClass("active"):$(".conch-headwrap").removeClass("active"),t>=900&&Conch.Browser.Swidth>991?$(".hl-rb-side").addClass("hl-fadeIn").addClass("fixed"):$(".hl-rb-side").removeClass("fixed").removeClass("hl-fadeIn"),$(".hl-article-content").length>0){var e=$(".hl-article-content").offset().top,o=$(".hl-article-content").height(),n=e-t,a=e+o-t;a>279&&n<=90&&Conch.Browser.Swidth>768?$(".hl-article-main .hl-tool-icon").addClass("fixed"):$(".hl-article-main .hl-tool-icon").removeClass("fixed"),a<=279&&Conch.Browser.Swidth>768?$(".hl-article-main .hl-tool-icon").addClass("bottom"):$(".hl-article-main .hl-tool-icon").removeClass("bottom")}})},Top:function(){var t=$(window);$scrollTopLink=$(".hl-back-top"),t.scroll(function(){500<$(this).scrollTop()?$scrollTopLink.css("display","block"):$scrollTopLink.css("display","none")}),$scrollTopLink.on("click",function(){return $("html, body").animate({scrollTop:0},400),!1})}},Search:{Init:function(){Conch.Search.Select(),Conch.Search.Submit(),Conch.Search.Form(),Conch.Search.History()},Select:function(){var t=$(".hl-search-select"),e=t.parent(),o=$(".hl-ss-box");1!==$(".hl-ss-text").data("mid")&&$("body").addClass("conch-adjust-ss"),t.on("click",function(t){"block"==o.css("display")?(o.hide(),e.removeClass("hl-select-op")):(o.show(),e.addClass("hl-select-op"),t.stopPropagation(),$("body").on("click",function(){o.hide(),e.removeClass("hl-select-op")}))}),$(".hl-ss-item span").on("click",function(){var t=$(this).data("action"),e=$(this).data("mid"),o=$(this).text();$(".hl-search").attr("action",t),$(".hl-ss-text").attr("data-mid",e),$(".hl-ss-text").text(o),1===e?$("body").removeClass("conch-adjust-ss"):$("body").addClass("conch-adjust-ss")})},Submit:function(){var t=$(".hl-search-text"),e=$(".hl-search-submit");""==t.val()&&e.attr("disabled","true"),t.on("input propertychange",function(){""!==$.trim($(this).val())?e.removeAttr("disabled"):e.attr("disabled","true")})},Form:function(){$(".conch-search");var t=$(".conch-list").innerWidth(),e=$(".hl-search-text");$(".hl-search-submit");var o=$(".hl-search-select"),n=$(".hl-sh-box");Conch.Browser.Swidth<768&&($(".conch-search").css("right",t),$(".hl-search-focus").click(function(){$("body").addClass("conch-adjust-res"),$(".hl-sh-search > form > input").focus()})),e.focus(function(){n.show(),o.on("click",function(){n.hide()}),$("body").on("click",function(t){$(t.target).closest(".hl-search-text,#hl-search-empty,.hl-alert-box").length||n.hide()})}),e.bind("input propertychange",function(){n.hide()})},History:function(){function t(){var t=a.get("keywords");if(t){$(".hl-sh-wrap").prepend('<div class="hl-sh-item hl-sh-item2"><div class="hl-sh-title">历史搜索<a href="javascript:;" id="hl-search-empty"><i class="iconfont hl-icon-lajitong"></i></a></div><ul id="hl-search-history" class="hl-sh-list clearfix"></ul></div>');var e="";$.each(t,function(t,o){e+="<li><a class='hl-bg-subs' href='"+conchtpl.surl+"?wd="+o+"' role='button'>"+o+"</a></li>"}),$("#hl-search-history").html(e)}}function e(t){var e=a.get("keywords");if(e)10===e.length&&e.shift();else var e=[];t&&0>e.indexOf(t)&&(e.push(t),a.set("keywords",e))}$(function(){if(t(),$(document).keydown(function(t){13==t.keyCode&&$("#hl-search-submit").click()}),""!==$("#hl-search-text").val()){var o=$(".hl-ss-text").data("mid"),n=$("#hl-search-text").val();1===o&&e(n)}$("#hl-search-submit").on("click",function(){t()}),$("#hl-search-empty").on("click",function(){a.remove("keywords"),$(".hl-sh-item2").remove()})});var o,n,a=(o="mystorage",n=window.localStorage,window.localStorage?{set:function(t,e){var a=n.getItem(o);return a||(this.init(),a=n.getItem(o)),(a=JSON.parse(a)).data[t]=e,n.setItem(o,JSON.stringify(a)),a.data},get:function(t){var e=n.getItem(o);return!!e&&(e=JSON.parse(e)).data[t]},remove:function(t){var e=n.getItem(o);return!!e&&(delete(e=JSON.parse(e)).data[t],n.setItem(o,JSON.stringify(e)),e.data)},init:function(){n.setItem(o,'{"data":{}}')},clear:function(){n.removeItem(o)}}:(alert("浏览器不支持localstorage"),!1))},Suggest:function(t,e){$.getScript(maccms.path+"/template/conch/asset/js/set/autocomplete.js",function(){var o=$(".hl-search-text").innerWidth();try{$(t).autocomplete(maccms.path+"/index.php/ajax/suggest?mid="+e,{inputClass:"hl-search-input",resultsClass:"conch-results hl-alert-box hl-bg-site hl-fadeIn",width:o,scrollHeight:400,minChars:1,matchSubset:0,cacheLength:10,multiple:!1,selectFirst:!1,matchContains:!0,autoFill:!1,dataType:"json",parse:function(t){if(1!=t.code)return{data:""};var e=[];return $.each(t.list,function(o,n){n.url=t.url,e[o]={data:n}}),e},formatItem:function(t,e,o){return t.name},formatResult:function(t,e,o){return t.text}}).result(function(t,e,o){$(this).val(e.name),location.href=e.url.replace("mac_wd",encodeURIComponent(e.name))})}catch(n){}})}},History:{Limit:12,Days:7,Json:"",Init:function(){var get_history=Conch.Cookie.Get("history");if(get_history){var json=eval("("+get_history+")"),list="";for(i=0;i<json.length;i++)list=list+'<li class="hl-public-item"><a title="'+json[i].name+'" href="'+json[i].link+'"><div class="hl-item-pic hl-col-xs-4"><div class="hl-item-thumb hl-lazy" data-original="'+json[i].pic+'" style="background-image:url('+json[i].pic+');"><span class="hl-pic-icon hl-hidden-xs"><i class="iconfont hl-icon-bofang-fill"></i></span></div></div><div class="hl-item-content hl-col-xs-8"><div class="hl-item-title hl-text-site hl-lc-2">'+json[i].name+'</div><div class="hl-item-blurb hl-text-muted hl-lc-1"><span>继续观看'+json[i].part+"</span></div></div></a></li>";$("#hl-history").append(list),$(".hl-hy-title").append('<a class="hl-hy-clear hl-text-muted hl-pull-right" target="_self" href="javascript:void(0)" onclick="Conch.History.Clear();"><i class="iconfont hl-icon-lajitong">清空</a>')}else $("#hl-history").append('<li class="hl-empty-wrap hl-text-center hl-col-xs-12"><i class="iconfont hl-icon-wushuju"></i><p>暂无记录</p><p class="hl-user-tips"><a class="hl-bg-conch mac_user" href="javascript:void(0)">登录查看更多</a></p></li>');if($(".hl-vod-history").length){var $that=$(".hl-vod-history");Conch.History.Set($that.attr("data-name"),$that.attr("data-link"),$that.attr("data-pic"),$that.attr("data-part"))}},Set:function(name,link,pic,part){link||(link=document.URL);var history=Conch.Cookie.Get("history"),len=0,canadd=!0;if(history&&(len=(history=eval("("+history+")")).length,$(history).each(function(){if(name===this.name){canadd=!1;var t="[";return $(history).each(function(e){var o,n,a,r;this.name===name?(o=name,n=pic,a=link,r=part):(o=this.name,n=this.pic,a=this.link,r=this.part),t+='{"name":"'+o+'","pic":"'+n+'","link":"'+a+'","part":"'+r+'"}',e!==len-1&&(t+=",")}),t+="]",Conch.Cookie.Set("history",t,this.Days),!1}})),canadd){var json="[",isfirst="]";for(json+='{"name":"'+name+'","pic":"'+pic+'","link":"'+link+'","part":"'+part+'"}'+(isfirst=len?",":"]"),len>this.Limit-1&&(len-=1),i=0;i<len-1;i++)json+='{"name":"'+history[i].name+'","pic":"'+history[i].pic+'","link":"'+history[i].link+'","part":"'+history[i].part+'"},';len>0&&(json+='{"name":"'+history[len-1].name+'","pic":"'+history[len-1].pic+'","link":"'+history[len-1].link+'","part":"'+history[len-1].part+'"}]'),Conch.Cookie.Set("history",json,this.Days)}},Clear:function(){Conch.Cookie.Del("history"),$("#hl-history").empty(),$(".hl-hy-list").html('<div class="hl-hy-clear-tips">已清空观看记录</div>')}},User:{IsLogin:0,Init:function(){if($(".conch-user").length>0&&$("body").on("click",".conch-user",function(t){MAC.User.Login()}),void 0!=MAC.Cookie.Get("user_id")&&""!=MAC.Cookie.Get("user_id")){var t=maccms.path+"/index.php/user",e=maccms.path+"/index.php/user/favs",o=maccms.path+"/index.php/user/plays",n=(MAC.Cookie.Get("user_id"),MAC.Cookie.Get("user_name")),a=MAC.Cookie.Get("user_nick_name"),r=MAC.Cookie.Get("group_id"),s=MAC.Cookie.Get("group_name"),c=MAC.Cookie.Get("user_portrait"),l='<i class="iconfont hl-icon-zuanshi"></i>';if(MAC.User.IsLogin=1,null!=a)var h=a;else var h=n;if($(".conch-user").length>0){if("<a"==$(".conch-user").prop("outerHTML").substr(0,2)&&($(".conch-user").attr("title",h),$(".conch-user").text(""),$(".conch-user").addClass("hl-user-face"),$(".conch-user").append('<img class="face" src="'+c+'" alt="'+h+'">'),Conch.Browser.Swidth<768&&$(".conch-user").attr("href",t)),r<3)var d=s;else var d=l+s;var u='<div class="hl-alert-box hl-bg-site hl-fadeIn-sm">';u+='<div class="hl-user-box"><a class="hl-login-out hl-text-muted" href="javascript:;" onclick="MAC.User.Logout();" target="_self">退出</a><div class="hl-user-info hl-text-center"><span class="hl-user-name">'+h+'</span><span class="hl-user-point hl-text-muted">'+d+'</span></div><div class="hl-user-list hl-bg-subs hl-text-muted"><a href="'+t+'" target="_blank"><i class="iconfont hl-icon-huiyuan"></i>主页</a><a href="'+o+'" target="_blank"><i class="iconfont hl-icon-shijian"></i>历史</a><a href="'+e+'" target="_blank"><i class="iconfont hl-icon-shoucang"></i>收藏</a></div></div>',$(".conch-user").after(u),$(".conch-user").removeClass("conch-user")}}}},Alert:{Init:function(){Conch.Alert.Popup()},Close:function(){$(".hl-close-full").click(function(){$("html,body").removeClass("hl-htmlover"),$(".hl-full-alert").removeClass("hl-full-x0")}),$(".hl-pops-bg-active,.hl-from-list li").click(function(){$(".hl-half-alert").removeClass("hl-half-y0"),$(".hl-from-btn").removeClass("hl-from-op"),setTimeout(function(){$(".hl-pops-bg-active").removeClass("hl-pops-bg-active"),$(".hl-pops-bg").remove()},200)})},Popbg:function(){$(".hl-pops-bg").length>0||$("body").append('<div class="hl-pops-bg"></div>'),$(".hl-pops-bg").addClass("hl-pops-bg-active")},Popup:function(){$(".hl-alert-items").each(function(){$(this).length&&$(this).hover(function(){$(this).find(".hl-alert-box").show(),$(this).find(".hl-lazy").lazyload({threshold:100})},function(){$(this).find(".hl-alert-box").hide()})}),$(".hl-full-items").each(function(){if($(this).length){var t=$(this),e=$(this).find(".hl-full-alert");$(this).parent().find(".hl-full-op").click(function(){Conch.Browser.Swidth<768?(e.addClass("hl-full-x0"),$("html,body").addClass("hl-htmlover")):"block"==t.children().css("display")?t.parent().removeClass("hl-data-show"):t.parent().addClass("hl-data-show"),t.find(".hl-lazy").lazyload({threshold:100}),Conch.Alert.Close()})}}),$(".hl-pops-items").each(function(){$(this).length&&$(this).click(function(){Conch.Browser.Swidth<768&&Conch.Alert.Popbg(),Conch.Alert.Close()})}),$(".hl-half-items").each(function(){if($(this).length){var t=$(this).find(".hl-half-y100");$(this).click(function(){Conch.Browser.Swidth<768&&Conch.Alert.Popbg(),t.addClass("hl-half-y0"),Conch.Alert.Close()})}}),$(".hl-from-buttons").each(function(){if($(this).length){var t=$(this),e=t.find(".hl-from-btn"),o=t.find(".hl-from-wrap");e.click(function(){$(this),e.addClass("hl-from-op"),o.addClass("hl-half-y0"),Conch.Browser.Swidth<768&&Conch.Alert.Popbg(),Conch.Alert.Close()}),$(".hl-from-list li").bind("click",function(){var t=$(this).index(),e=$(".hl-from-btn"),o=$(this).data("href");$(this).removeClass().addClass("active").siblings().removeClass(),e.hide(),e.eq(t).show(),$(".hl-play-btn").attr("href",o)})}})},Notice:function(){null===Conch.Cookie.Get("tips")&&(Conch.Alert.Popbg(),$("body").append('<div class="hl-poptips-wrap hl-bg-site"><div class="hl-poptips-title"><h2>'+conchtpl.tipt+'</h2></div><div class="hl-poptips-content">'+conchtpl.tipc+'</div><div class="hl-poptips-btn"><a class="hl-bg-conch no" href="javascript:;">我知道了</a><a class="hl-bg-subs" href="javascript:;">取消</a></div></div>'),$(".hl-poptips-btn a.no").click(function(){Conch.Cookie.Set("tips","ok",1),$(".hl-poptips-wrap").remove(),$(".hl-pops-bg").remove()}),$(".hl-poptips-btn a").click(function(){$(".hl-poptips-wrap").remove(),$(".hl-pops-bg").remove()}))}},Shows:{Init:function(){Conch.Shows.Text(),Conch.Shows.List(),Conch.Shows.Sort(),Conch.Shows.Tabs(),Conch.Shows.Change()},Text:function(){$(".hl-show-text").each(function(){var t=$(this).parent(),e=t.find(".hl-content-text").children(),o=$(this).find("em");e.height()>48?$(this).show():$(this).hide(),$(this).on("click",function(){t.hasClass("hl-content-hide")?(t.removeClass("hl-content-hide"),t.addClass("hl-content-show"),o.text("收起")):(t.removeClass("hl-content-show"),t.addClass("hl-content-hide"),o.text("展开"))})})},List:function(){$(".hl-show-list").each(function(){var t=$(this).parent().parent(),e=$(this).find("em");$(this).on("click",function(){t.hasClass("hl-list-hide-xs")?($(this).attr("href","javascript:void(0)"),t.removeClass("hl-list-hide-xs"),e.text("收起全部")):($(this).attr("href","#playlist"),t.addClass("hl-list-hide-xs"),e.text("展开全部")),Conch.Swiper.Scrolls()})})},Sort:function(){$(".hl-sort-btn").each(function(){var t=$(this).find("i"),e=$(this).find("span");$(this).on("click",function(o){t.hasClass("hl-icon-daoxu")?(t.removeClass("hl-icon-daoxu"),t.addClass("hl-icon-zhengxu"),e.text("正序")):(t.removeClass("hl-icon-zhengxu"),t.addClass("hl-icon-daoxu"),e.text("倒序")),o.preventDefault(),$(this).parent().parent().find(".hl-sort-list").each(function(){var t=$(this).find("li");for(let e=0,o=t.length-1;e<o;){var n=t.eq(e).clone(!0),a=t.eq(o).replaceWith(n);t.eq(e).replaceWith(a),++e,--o}})})})},Tabs:function(){$(".hl-tabs-item").each(function(){if($(this).length){var t=$(this),e=t.find(".hl-tabs .hl-tabs-btn"),o=t.find(".hl-tabs-box"),n=t.find(".hl-tabs-box2");e.click(function(){var a=$(this),r=a.index();e.removeClass("active"),a.addClass("active"),o.hide(),n.hide(),o.eq(r).show(),n.eq(r).show(),t.find(".hl-tabs-box .hl-lazy").lazyload({threshold:100})})}})},Change:function(){if($(".hl-more-change").length){for(var t=[],e=3,o=0;o<e;o++)t[o]=$(".hl-change-box"+(o+1));var n=0;$(".hl-more-change").on("click",function(){n++,n%=e;for(var o=0;o<e;o++)$(this).closest(".hl-row-box",".hl-change-list").find(t[o]).removeClass("hl-show").addClass("hl-hide");$(this).closest(".hl-row-box",".hl-change-list").find(t[n]).removeClass("hl-hide").addClass("hl-show"),$(".hl-lazy").lazyload({threshold:130})})}}},Other:{Init:function(){Conch.Other.Color(),Conch.Other.Navs(),Conch.Other.Url(),Conch.Other.Copy(),Conch.Other.Set()},Color:function(){var t=$.cookie("color"),e=$(".hl-color-item a");null!=t&&("black"==t?(document.querySelector('meta[name="theme-color"]').setAttribute("content","#151515"),e.attr("id","white"),e.html('<i class="iconfont hl-icon-taiyang"></i><span>浅色模式</span>')):(document.querySelector('meta[name="theme-color"]').setAttribute("content","#fafafa"),e.attr("id","black"),e.html('<i class="iconfont hl-icon-yueliang"></i><span>深色模式</span>'))),$(".hl-color-item a").click(function(){var t=$(this).attr("id");$("link[name='color']").attr("href","/template/conch/asset/css/"+t+".css?v="+conchtpl.ver),$.cookie("color",t,{expires:365,path:"/"}),"black"==t?(document.querySelector('meta[name="theme-color"]').setAttribute("content","#151515"),$(this).attr("id","white"),$(this).html('<i class="iconfont hl-icon-taiyang"></i><span>浅色模式</span>')):(document.querySelector('meta[name="theme-color"]').setAttribute("content","#fafafa"),$(this).attr("id","black"),$(this).html('<i class="iconfont hl-icon-yueliang"></i><span>深色模式</span>'))})},Navs:function(){$(".hl-nav-item").each(function(){var t=$(".hl-nav-item a.active"),e=t.parent().css("display"),o=t.text();t.length>0&&"none"==e?($(".hl-nav-more a>span").addClass("hl-text-conch").addClass("active"),$(".hl-nav-more a>span").text(o)):($(".hl-nav-more a>span").removeClass("hl-text-conch").removeClass("active"),$(".hl-nav-more a>span").text("全部"))}),$(".hl-open-menu").on("click",function(){$(".conch-menus").addClass("active"),$(".conch-ms-close,.conch-ms-overlay").on("click",function(){$(".conch-menus").removeClass("active")})})},Url:function(){var t=$(".hl-short-url");if(""==conchtpl.slink)var e=encodeURI(Conch.Browser.url);else var e=conchtpl.slink+encodeURI(Conch.Browser.urlpath);if("1"==conchtpl.short){if("1"==conchtpl.api)$.ajax({url:conchtpl.aurl+e,type:"GET",dataType:"jsonp",cache:!1,success:function(e,o){for(x in e.data.urls[0]);t.prepend(e.data.urls[0].url_short)},error:function(o,n,a){t.prepend(e)}});else{var o=new XMLHttpRequest,n=conchtpl.tok,a=e,r=conchtpl.term;o.open("post","https://dwz.cn/admin/v2/create","true"),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Token",n),o.send(JSON.stringify({Url:a,TermOfValidity:r})),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var n=JSON.parse(o.responseText);console.log(o.responseText),0===n.Code?t.prepend(n.ShortUrl):t.prepend(e)}}}}else t.prepend(e)},Target:function(){$("a").each(function(){var t=$(this).attr("href");$(this).length&&-1==t.indexOf("java")&&$(this).attr("target","_blank")})},Copy:function(){var t=document.getElementsByClassName("conch-copy"),e=new Clipboard(t);e.on("success",function(t){$("body").append('<div class="hl-pop-msg"><div class="hl-pop-tip">复制成功</div></div>'),setTimeout(function(){$(".hl-pop-msg").remove()},1e3)}),e.on("error",function(t){$("body").append('<div class="hl-pop-msg"><div class="hl-pop-tip">复制失败！请手动复制</div></div>'),setTimeout(function(){$(".hl-pop-msg").remove()},1e3)})},Set:function(){$(".hl-more-list").each(function(){if($(this).length){var t=$(this).parent().parent();$(this).click(function(){t.removeClass("hl-list-hide"),$(this).parent().remove()})}}),$(".hl-vod-big").each(function(){if($(this).length&&Conch.Browser.Swidth>767){var t=$(this).find(".hl-vod-list"),e=t.find("li:nth-child(1) a"),o=t.find("li:nth-child(2) a").innerHeight();e.css("height",""+o+"px")}}),$(".hl-vod-widebig.hl-list-v12").each(function(){if($(this).length&&Conch.Browser.Swidth>767){var t=$(this).find(".hl-vod-list"),e=t.find("li:nth-child(1) a"),o=2*t.find("li:nth-child(2) a").innerHeight()+80;e.css("height",""+o+"px")}}),$(".hl-setups-op a").click(function(){var t=$(this).parent().parent();"0px"==t.css("right")?t.removeClass("active"):t.addClass("active")}),$(".hl-head-slide").each(function(){if($(this).length){var t=$(this).find("h2").innerWidth()+10;$(this).find(".hl-rb-type-child").css("width","calc(100% - "+t+"px)")}}),$(".hl-this-box").each(function(){var t=$(this);t.find(".hl-close-this").click(function(){t.remove()})})}}};$(document).ready(function(){Conch.Host(),Conch.Resize(),Conch.Images.Init(),Conch.Swiper.Init(),Conch.Scroll.Init(),Conch.Search.Init(),Conch.History.Init(),Conch.User.Init(),Conch.Alert.Init(),Conch.Shows.Init(),Conch.Other.Init()}),String.prototype.replaceAll=function(t,e){return this.replace(RegExp(t,"gm"),e)},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};var base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64DecodeChars=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];function base64encode(t){var e,o,n,a,r,s;for(n=t.length,o=0,e="";o<n;){if(a=255&t.charCodeAt(o++),o==n){e+=base64EncodeChars.charAt(a>>2),e+=base64EncodeChars.charAt((3&a)<<4),e+="==";break}if(r=t.charCodeAt(o++),o==n){e+=base64EncodeChars.charAt(a>>2),e+=base64EncodeChars.charAt((3&a)<<4|(240&r)>>4),e+=base64EncodeChars.charAt((15&r)<<2),e+="=";break}s=t.charCodeAt(o++),e+=base64EncodeChars.charAt(a>>2),e+=base64EncodeChars.charAt((3&a)<<4|(240&r)>>4),e+=base64EncodeChars.charAt((15&r)<<2|(192&s)>>6),e+=base64EncodeChars.charAt(63&s)}return e}function base64decode(t){var e,o,n,a,r,s,c;for(s=t.length,r=0,c="";r<s;){do e=base64DecodeChars[255&t.charCodeAt(r++)];while(r<s&&-1==e);if(-1==e)break;do o=base64DecodeChars[255&t.charCodeAt(r++)];while(r<s&&-1==o);if(-1==o)break;c+=String.fromCharCode(e<<2|(48&o)>>4);do{if(61==(n=255&t.charCodeAt(r++)))return c;n=base64DecodeChars[n]}while(r<s&&-1==n);if(-1==n)break;c+=String.fromCharCode((15&o)<<4|(60&n)>>2);do{if(61==(a=255&t.charCodeAt(r++)))return c;a=base64DecodeChars[a]}while(r<s&&-1==a);if(-1==a)break;c+=String.fromCharCode((3&n)<<6|a)}return c}function utf16to8(t){var e,o,n,a;for(o=0,e="",n=t.length;o<n;o++)(a=t.charCodeAt(o))>=1&&a<=127?e+=t.charAt(o):a>2047?(e+=String.fromCharCode(224|a>>12&15),e+=String.fromCharCode(128|a>>6&63),e+=String.fromCharCode(128|a>>0&63)):(e+=String.fromCharCode(192|a>>6&31),e+=String.fromCharCode(128|a>>0&63));return e}function utf8to16(t){var e,o,n,a,r,s;for(e="",n=t.length,o=0;o<n;)switch((a=t.charCodeAt(o++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(o-1);break;case 12:case 13:e+=String.fromCharCode((31&a)<<6|63&(r=t.charCodeAt(o++)));break;case 14:e+=String.fromCharCode((15&a)<<12|(63&(r=t.charCodeAt(o++)))<<6|(63&(s=t.charCodeAt(o++)))<<0)}return e}var MAC={Url:document.URL,Title:document.title,UserAgent:function(){var t=navigator.userAgent;return{mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),weixin:t.indexOf("MicroMessenger")>-1}}(),Copy:function(t){window.clipboardData?window.clipboardData.setData("Text",t):(void 0==$("#mac_flash_copy").get(0)?$('<div id="mac_flash_copy"></div>'):$("#mac_flash_copy").html(""),$("#mac_flash_copy").html("<embed src="+maccms.path+'"images/_clipboard.swf" FlashVars="clipboard='+escape(t)+'" width="0" height="0" type="application/x-shockwave-flash"></embed>')),MAC.Pop.Msg(100,20,"复制成功",1e3)},Home:function(t,e){try{t.style.behavior="url(#default#homepage)",t.setHomePage(e)}catch(o){if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(n){MAC.Pop.Msg(150,40,"此操作被浏览器拒绝！请手动设置",1e3)}Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch).setCharPref("browser.startup.homepage",e)}}},Fav:function(t,e){try{window.external.addFavorite(t,e)}catch(o){try{window.sidebar.addPanel(e,t,"")}catch(n){MAC.Pop.Msg(150,40,"加入收藏出错，请使用键盘Ctrl+D进行添加",1e3)}}},Open:function(t,e,o){window.open(t,"macopen1","toolbars=0, scrollbars=0, location=0, statusbars=0,menubars=0,resizable=yes,width="+e+",height="+o)},Cookie:{Set:function(t,e,o){var n=new Date;n.setTime(n.getTime()+864e5*o),document.cookie.match(RegExp("(^| )"+t+"=([^;]*)(;|$)")),document.cookie=t+"="+encodeURIComponent(e)+";path=/;expires="+n.toUTCString()},Get:function(t){var e=document.cookie.match(RegExp("(^| )"+t+"=([^;]*)(;|$)"));if(null!=e)return decodeURIComponent(e[2])},Del:function(t){var e=new Date;e.setTime(e.getTime()-1);var o=this.Get(t);null!=o&&(document.cookie=t+"="+encodeURIComponent(o)+";path=/;expires="+e.toUTCString())}},GoBack:function(){var t=document.domain;document.referrer.indexOf(t)>0?history.back():window.location="//"+t},Adaptive:function(){"1"!=maccms.mob_status||maccms.url==maccms.wapurl||(document.domain==maccms.url&&MAC.UserAgent.mobile?location.href=location.href.replace(maccms.url,maccms.wapurl):document.domain!=maccms.wapurl||MAC.UserAgent.mobile||(location.href=location.href.replace(maccms.wapurl,maccms.url)))},CheckBox:{All:function(t){$("input[name='"+t+"']").each(function(){this.checked=!0})},Other:function(t){$("input[name='"+t+"']").each(function(){this.checked=!this.checked})},Count:function(t){var e=0;return $("input[name='"+t+"']").each(function(){this.checked&&e++}),e},Ids:function(t){var e=[];return $("input[name='"+t+"']").each(function(){this.checked&&e.push(this.value)}),e.join(",")}},Ajax:function(t,e,o,n,a,r,s){e=e||"get",o=o||"json",n=n||"",r=r||"",s=s||"",$.ajax({url:t,type:e,dataType:o,data:n,timeout:5e3,beforeSend:function(t){},error:function(t,e,o){r&&r(t,e,o)},success:function(t){a(t)},complete:function(t,e){s&&s(t,e)}})},Qrcode:{Init:function(){$(".mac_qrcode").attr("src",maccms.path+"/index.php/qrcode/index.html?url="+MAC.Url)}},Shorten:{Init:function(){0!=$(".mac_shorten").length&&MAC.Shorten.Get()},Get:function(t,e){t=t||location.href,MAC.Ajax("//api.maccms.la/shorten/index/url/"+encodeURIComponent(t),"get","jsonp","",function(t){1==t.code&&($(".mac_shorten").length>0&&($(".mac_shorten").val(t.data.url_short),$(".mac_shorten").html(t.data.url_short)),e&&e(t))})}},Image:{Lazyload:{Show:function(){try{$("img.lazy").lazyload()}catch(t){}},Box:function(t){$("img.lazy").lazyload({container:$("#"+t)})}}},Verify:{Init:function(){MAC.Verify.Focus(),MAC.Verify.Click()},Focus:function(){$("body").on("focus",".mac_verify",function(){$(this).removeClass("mac_verify").after(MAC.Verify.Show()),$(this).unbind()})},Click:function(){$("body").on("click","img.mac_verify_img",function(){$(this).attr("src",maccms.path+"/index.php/verify/index.html?r="+Math.random())})},Refresh:function(){$(".mac_verify_img").attr("src",maccms.path+"/index.php/verify/index.html?r="+Math.random())},Show:function(){return'<img class="mac_verify_img" src="'+maccms.path+'/index.php/verify/index.html?"  title="看不清楚? 换一张！">'}},PageGo:{Init:function(){$(".mac_page_go").click(function(){var t=$(this),e=t.attr("data-url"),o=parseInt(t.attr("data-total")),n=t.attr("data-sp"),a=parseInt($("#page").val());return a>0&&a<=o&&(e=e.replace(n+"PAGELINK",n+a).replace("PAGELINK",a),location.href=e),!1})}},Hits:{Init:function(){if(0!=$(".mac_hits").length){var $that=$(".mac_hits");MAC.Ajax(maccms.path+"/index.php/ajax/hits?mid="+$that.attr("data-mid")+"&id="+$that.attr("data-id")+"&type=update","get","json","",function(r){1==r.code&&$(".mac_hits").each(function(i){"insert"!=($type=$(".mac_hits").eq(i).attr("data-type"))&&$("."+$type).html(eval("(r.data."+$type+")"))})})}}},Score:{Init:function(){0!=$(".mac_score").length&&($("body").on("click",".score_btn",function(t){MAC.Score.Submit()}),MAC.Ajax(maccms.path+"/index.php/ajax/score?mid="+$(".mac_score").attr("data-mid")+"&id="+$(".mac_score").attr("data-id"),"post","json","",function(t){MAC.Score.View(t)},function(){$(".mac_score").html("评分加载失败")}))},Submit:function(){var t=$(".mac_score").find("input[name='score']").val();MAC.Ajax(maccms.path+"/index.php/ajax/score?mid="+$(".mac_score").attr("data-mid")+"&id="+$(".mac_score").attr("data-id")+"&score="+t,"get","json","",function(t){MAC.Pop.Msg(100,20,t.msg,1e3),1==t.code&&MAC.Score.View(t)})},View:function(t){$(".rating"+Math.floor(t.data.score)).attr("checked",!0),$(".score_num").text(t.data.score_num),$(".score_all").text(t.data.score_all),$(".score_pjf").text(t.data.score)}},Star:{Init:function(){0!=$(".mac_star").length&&$(".mac_star").raty({starType:"i",number:5,numberMax:5,half:!0,score:function(){return $(this).attr("data-score")},click:function(t,e){MAC.Ajax(maccms.path+"/index.php/ajax/score?mid="+$(".mac_star").attr("data-mid")+"&id="+$(".mac_star").attr("data-id")+"&score="+2*t,"get","json","",function(t){1==json.status?$(".star_tips").html(t.data.score):$(".star_box").attr("title",t.msg)},function(){$(".star_box").attr("title","网络异常！")})}})}},Digg:{Init:function(){$("body").on("click",".digg_link",function(t){var e=$(this);e.attr("data-id")&&MAC.Ajax(maccms.path+"/index.php/ajax/digg.html?mid="+e.attr("data-mid")+"&id="+e.attr("data-id")+"&type="+e.attr("data-type"),"get","json","",function(t){e.addClass("disabled"),1==t.code?"up"==e.attr("data-type")?e.find(".digg_num").html(t.data.up):e.find(".digg_num").html(t.data.down):e.attr("title",t.msg)})})}},Gbook:{Login:0,Verify:0,Init:function(){$("body").on("keyup",".gbook_content",function(t){MAC.Remaining($(this),200,".gbook_remaining")}),$("body").on("focus",".gbook_content",function(t){1==MAC.Gbook.Login&&1!=MAC.User.IsLogin&&MAC.User.Login()}),$("body").on("click",".gbook_submit",function(t){MAC.Gbook.Submit()})},Show:function(t){MAC.Ajax(maccms.path+"/index.php/gbook/index?page="+t,"post","json","",function(t){$(".mac_gbook_box").html(t)},function(){$(".mac_gbook_box").html("留言加载失败，请刷新...")})},Submit:function(){if(""==$(".gbook_content").val())return MAC.Pop.Msg(100,20,"请输入您的留言!",1e3),!1;MAC.Ajax(maccms.path+"/index.php/gbook/saveData","post","json",$(".gbook_form").serialize(),function(t){MAC.Pop.Msg(100,20,t.msg,1e3),1==t.code?location.reload():1==MAC.Gbook.Verify&&MAC.Verify.Refresh()})},Report:function(t,e){MAC.Pop.Show(400,300,"数据报错",maccms.path+"/index.php/gbook/report.html?id="+e+"&name="+encodeURIComponent(t),function(t){})}},Search:{Init:function(){$(".mac_search").click(function(){var t=$(this),e=t.attr("data-href")?t.attr("data-href"):maccms.path+"/index.php/vod/search.html";location.href=e+"?wd="+encodeURIComponent($("#wd").val())})},Submit:function(){return!1}},Suggest:{Init:function(t,e,o){try{$(t).autocomplete(maccms.path+"/index.php/ajax/suggest?mid="+e,{inputClass:"mac_input",resultsClass:"mac_results",loadingClass:"mac_loading",width:175,scrollHeight:300,minChars:1,matchSubset:0,cacheLength:10,multiple:!1,matchContains:!0,autoFill:!1,dataType:"json",parse:function(t){if(1!=t.code)return{data:""};var e=[];return $.each(t.list,function(o,n){n.url=t.url,e[o]={data:n}}),e},formatItem:function(t,e,o){return t.name},formatResult:function(t,e,o){return t.text}}).result(function(e,o,n){$(t).val(o.name),location.href=o.url.replace("mac_wd",encodeURIComponent(o.name))})}catch(n){}}},History:{BoxShow:0,Limit:10,Days:7,Json:"",Init:function(){if(0!=$(".mac_history").length){$(".mac_history").hover(function(t){$(".mac_history_box").show()},function(){$(".mac_history_box").hover(function(){MAC.History.BoxShow=1},function(){MAC.History.BoxShow=0,$(".mac_history_box").hide()})});var jsondata=[];if(this.Json)jsondata=this.Json;else{var jsonstr=MAC.Cookie.Get("mac_history");void 0!=jsonstr&&(jsondata=eval(jsonstr))}if(html='<dl class="mac_drop_box mac_history_box" style="display:none;">',html+='<dt><a target="_self" href="javascript:void(0)" onclick="MAC.History.Clear();">清空</a></dt>',jsondata.length>0)for($i=0;$i<jsondata.length;$i++)$i%2==1?html+='<dd class="odd">':html+='<dd class="even">',html+='<a href="'+jsondata[$i].link+'" class="hx_title">'+jsondata[$i].name+"</a></dd>";else html+='<dd class="hide">暂无浏览记录</dd>';html+="</dl>",$(".mac_history").after(html);var h=$(".mac_history").height(),position=$(".mac_history").position();if($(".mac_history_box").css({left:position.left,top:position.top+h}),$(".mac_history_set").attr("data-name")){var $that=$(".mac_history_set");MAC.History.Set($that.attr("data-name"),$that.attr("data-link"),$that.attr("data-pic"))}}},Set:function(name,link,pic){link||(link=document.URL);var jsondata=MAC.Cookie.Get("mac_history");if(void 0!=jsondata){for($i=0,this.Json=eval(jsondata);$i<this.Json.length;$i++)if(this.Json[$i].link==link)return!1;for($i=0,jsonstr='{log:[{"name":"'+name+'","link":"'+link+'","pic":"'+pic+'"},';$i<this.Json.length;$i++)if($i<=this.Limit&&this.Json[$i])jsonstr+='{"name":"'+this.Json[$i].name+'","link":"'+this.Json[$i].link+'","pic":"'+this.Json[$i].pic+'"},';else break;jsonstr=jsonstr.substring(0,jsonstr.lastIndexOf(",")),jsonstr+="]}"}else jsonstr='{log:[{"name":"'+name+'","link":"'+link+'","pic":"'+pic+'"}]}';this.Json=eval(jsonstr),MAC.Cookie.Set("mac_history",jsonstr,this.Days)},Clear:function(){MAC.Cookie.Del("mac_history"),$(".mac_history_box").html('<li class="hx_clear">已清空观看记录。</li>')}},Ulog:{Init:function(){MAC.Ulog.Set(),MAC.Ulog.Click()},Get:function(t,e,o,n,a,r){MAC.Ajax(maccms.path+"/index.php/user/ajax_ulog/?ac=list&mid="+t+"&id="+e+"&type="+o+"&page="+n+"&limit="+a,"get","json","",r)},Set:function(){if($(".mac_ulog_set").attr("data-mid")){var t=$(".mac_ulog_set");$.get(maccms.path+"/index.php/user/ajax_ulog/?ac=set&mid="+t.attr("data-mid")+"&id="+t.attr("data-id")+"&sid="+t.attr("data-sid")+"&nid="+t.attr("data-nid")+"&type="+t.attr("data-type"))}},Click:function(){$("body").on("click","a.mac_ulog",function(t){if(0==MAC.User.IsLogin){MAC.User.Login();return}var e=$(this);e.attr("data-id")&&MAC.Ajax(maccms.path+"/index.php/user/ajax_ulog/?ac=set&mid="+e.attr("data-mid")+"&id="+e.attr("data-id")+"&type="+e.attr("data-type"),"get","json","",function(t){MAC.Pop.Msg(100,20,t.msg,1e3),1==t.code?e.addClass("disabled"):e.attr("title",t.msg)})})}},Website:{Referer:function(){if(0!=$(".mac_referer").length){var t=document.referrer,e="",o=window.location.host,n=/^http(s)?:\/\/(.*?)\//i,a=t.match(n);""!=t&&-1==t.indexOf(o)&&null!=a&&(e=a[2],MAC.Ajax(maccms.path+"/index.php/ajax/referer?domain="+encodeURIComponent(e)+"&url="+encodeURIComponent(t)+"&type=update","get","json","",function(t){t.code,console.log(t)}))}}},User:{BoxShow:0,IsLogin:0,UserId:"",UserName:"",GroupId:"",GroupName:"",Portrait:"",Init:function(){if($(".mac_user").length>0&&($("body").on("click",".mac_user",function(t){MAC.User.Login()}),$(".mac_user").hover(function(t){$(".mac_user_box").show()},function(){$(".mac_user_box").hover(function(){MAC.User.BoxShow=1},function(){MAC.User.BoxShow=0,$(".mac_user_box").hide()})})),void 0!=MAC.Cookie.Get("user_id")&&""!=MAC.Cookie.Get("user_id")){var t=maccms.path+"/index.php/user";if(MAC.User.UserId=MAC.Cookie.Get("user_id"),MAC.User.UserName=MAC.Cookie.Get("user_name"),MAC.User.GroupId=MAC.Cookie.Get("group_id"),MAC.User.GroupName=MAC.Cookie.Get("group_name"),MAC.User.Portrait=MAC.Cookie.Get("user_portrait"),MAC.User.IsLogin=1,$(".mac_user").length>0){"<a"==$(".mac_user").prop("outerHTML").substr(0,2)&&($(".mac_user").attr("href",t),$(".mac_user").text(MAC.User.UserName));var e='<div class="mac_drop_box mac_user_box" style="display: none;">';e+='<ul class="logged"><li><a target="_blank" href="'+t+'">用户中心</a></li><li class="logout"><a class="logoutbt" href="javascript:;" onclick="MAC.User.Logout();" target="_self"><i class="user-logout"></i>退出</a></li></ul>',$(".mac_user").after(e);var o=$(".mac_user").height(),n=$(".mac_user").position();$(".mac_user_box").css({left:n.left,top:n.top+o})}}},CheckLogin:function(){0==MAC.User.IsLogin&&MAC.User.Login()},Login:function(){var t="ajax_login";void 0!=MAC.Cookie.Get("user_id")&&""!=MAC.Cookie.Get("user_id")&&(t="ajax_info"),MAC.Pop.Show(400,380,"用户登录",maccms.path+"/index.php/user/"+t,function(t){$("body").off("click",".login_form_submit"),$("body").on("click",".login_form_submit",function(t){$(this).unbind("click"),MAC.Ajax(maccms.path+"/index.php/user/login","post","json",$(".mac_login_form").serialize(),function(t){alert(t.msg),1==t.code&&location.reload()})})})},Logout:function(){MAC.Ajax(maccms.path+"/index.php/user/logout","post","json","",function(t){MAC.Pop.Msg(100,20,t.msg,1e3),1==t.code&&location.reload()})},PopedomCallBack:function(t,e){window.setTimeout(function(){$(window.frames.player_if.document).find(".MacPlayer").html(e)},1e4*t)},BuyPopedom:function(t){var e=$(t);e.attr("data-id")&&confirm("您确认购买此条数据访问权限吗？")&&MAC.Ajax(maccms.path+"/index.php/user/ajax_buy_popedom.html?id="+e.attr("data-id")+"&mid="+e.attr("data-mid")+"&sid="+e.attr("data-sid")+"&nid="+e.attr("data-nid")+"&type="+e.attr("data-type"),"get","json","",function(t){e.addClass("disabled"),MAC.Pop.Msg(300,50,t.msg,2e3),1==t.code&&top.location.reload(),e.removeClass("disabled")})}},Pop:{Remove:function(){$(".mac_pop_bg").remove(),$(".mac_pop").remove()},RemoveMsg:function(){$(".mac_pop_msg_bg").remove(),$(".mac_pop_msg").remove()},Msg:function(t,e,o,n){1!=$(".mac_pop_bg").length&&MAC.Pop.Remove(),$("body").append('<div class="mac_pop_msg_bg"></div><div class="mac_pop_msg"><div class="pop-msg"></div></div>'),$(".mac_pop_msg .pop_close").click(function(){$(".mac_pop_msg").remove()}),$(".mac_pop_msg").width(t),$(".mac_pop_msg").height(e),$(".mac_pop_msg .pop-msg").html(o),$(".mac_pop_msg_bg,.mac_pop_msg").show(),setTimeout(MAC.Pop.RemoveMsg,n)},Show:function(t,e,o,n,a){1!=$(".mac_pop_bg").length&&MAC.Pop.Remove(),$("body").append('<div class="mac_pop_bg"></div><div class="mac_pop"><div class="pop_top"><h2></h2><span class="pop_close">Ｘ</span></div><div class="pop_content"></div></div>'),$(".mac_pop .pop_close").click(function(){$(".mac_pop_bg,.mac_pop").remove()}),$(".mac_pop").width(t),$(".mac_pop").height(e),$(".pop_content").html(""),$(".pop_top").find("h2").html(o),MAC.Ajax(n,"post","json","",function(t){$(".pop_content").html(t),a(t)},function(){$(".pop_content").html("加载失败，请刷新...")}),$(".mac_pop_bg,.mac_pop").show()}},Pwd:{Check:function(t){var e=$(t);e.attr("data-id")&&MAC.Ajax(maccms.path+"/index.php/ajax/pwd.html?id="+e.attr("data-id")+"&mid="+e.attr("data-mid")+"&type="+e.attr("data-type")+"&pwd="+e.parents("form").find('input[name="pwd"]').val(),"get","json","",function(t){e.addClass("disabled"),MAC.Pop.Msg(300,50,t.msg,2e3),1==t.code&&location.reload(),e.removeClass("disabled")})}},AdsWrap:function(t,e,o){document.writeln('<img width="'+t+'" height="'+e+'" alt="'+o+'" style="background-color: #CCCCCC" />')},Css:function(t){$("<link>").attr({rel:"stylesheet",type:"text/css",href:t}).appendTo("head")},Js:function(t){$.getScript(t,function(t,e){})},Desktop:function(t){location.href=maccms.path+"/index.php/ajax/desktop?name="+encodeURI(t)+"&url="+encodeURI(location.href)},Timming:function(){if(0!=$(".mac_timming").length){var t,e=$(".mac_timming").attr("data-file");(void 0==e||""==e)&&(e="api.php"),new Image().src=maccms.path+"/"+e+"/timming/index?t="+Math.random()}},Error:function(t,e,o){},AddEm:function(t,e){var o=$(t).val();$(t).val(o+"[em:"+e+"]")},Remaining:function(t,e,o){var n=e-$(t).val().length;n<0&&(n=0,$(t).val($(t).val().substr(0,200))),$(o).text(n)},Comment:{Login:0,Verify:0,Init:function(){$("body").on("click",".comment_face_box img",function(t){var e=$(this).parent().parent().parent().find(".comment_content");MAC.AddEm(e,$(this).attr("data-id"))}),$("body").on("click",".comment_face_panel",function(t){$(this).parent().find(".comment_face_box").toggle()}),$("body").on("keyup",".comment_content",function(t){var e=$(this).parent().parent().parent().parent().find(".comment_remaining");MAC.Remaining($(this),200,e)}),$("body").on("focus",".comment_content",function(t){1==MAC.Comment.Login&&1!=MAC.User.IsLogin&&MAC.User.Login()}),$("body").on("click",".comment_report",function(t){var e=$(this);$(this).attr("data-id")&&MAC.Ajax(maccms.path+"/index.php/comment/report.html?id="+e.attr("data-id"),"get","json","",function(t){e.addClass("disabled"),MAC.Pop.Msg(100,20,t.msg,1e3),t.code})}),$("body").on("click",".comment_reply",function(t){var e=$(this);if(e.attr("data-id")){var o=e.html();if($(".comment_reply_form").remove(),"取消回复"==o)return e.html("回复"),!1;"回复"==o&&$(".comment_reply").html("回复");var n=$(".comment_form").prop("outerHTML"),a=$(n);a.addClass("comment_reply_form"),a.find('input[name="comment_pid"]').val(e.attr("data-id")),e.parent().after(a),e.html("取消回复")}}),$("body").on("click",".comment_submit",function(t){var e=$(this);MAC.Comment.Submit(e)})},Show:function(t){$(".mac_comment").length>0&&MAC.Ajax(maccms.path+"/index.php/comment/ajax.html?rid="+$(".mac_comment").attr("data-id")+"&mid="+$(".mac_comment").attr("data-mid")+"&page="+t,"get","json","",function(t){$(".mac_comment").html(t)},function(){$(".mac_comment").html('<a href="javascript:void(0)" onclick="MAC.Comment.Show('+t+')">评论加载失败，点击我刷新...</a>')})},Reply:function(t){},Submit:function(t){var e=t.parents("form");return""==$(e).find(".comment_content").val()?(MAC.Pop.Msg(100,20,"请输入您的评论！",1e3),!1):""==$(".mac_comment").attr("data-mid")?(MAC.Pop.Msg(100,20,"模块mid错误！",1e3),!1):""==$(".mac_comment").attr("data-id")?(MAC.Pop.Msg(100,20,"关联id错误！",1e3),!1):void MAC.Ajax(maccms.path+"/index.php/comment/saveData","post","json",$(e).serialize()+"&comment_mid="+$(".mac_comment").attr("data-mid")+"&comment_rid="+$(".mac_comment").attr("data-id"),function(t){MAC.Pop.Msg(100,20,t.msg,1e3),1==t.code?MAC.Comment.Show(1):1==MAC.Comment.Verify&&MAC.Verify.Refresh()})}}};$(function(){MAC.Image.Lazyload.Show(),MAC.Adaptive(),MAC.Verify.Init(),MAC.PageGo.Init(),MAC.User.Init(),MAC.Qrcode.Init(),MAC.Digg.Init(),MAC.Score.Init(),MAC.Star.Init(),MAC.Hits.Init(),MAC.Shorten.Init(),MAC.History.Init(),MAC.Ulog.Init(),MAC.Suggest.Init(".mac_wd",1,""),MAC.Website.Referer(),MAC.Timming()});